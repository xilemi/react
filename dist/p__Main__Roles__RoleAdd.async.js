"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8642],{62367:function(b,O,t){t.d(O,{$_:function(){return f},CE:function(){return j},Gc:function(){return S},H4:function(){return W},Ie:function(){return i},LN:function(){return m},NJ:function(){return $},NS:function(){return c},PI:function(){return o},Ph:function(){return M},Ty:function(){return R},Vp:function(){return y},WC:function(){return l},WN:function(){return w},X0:function(){return x},XR:function(){return _},XV:function(){return p},Z2:function(){return g},Zz:function(){return X},_7:function(){return d},cH:function(){return u},dh:function(){return C},iO:function(){return F},jm:function(){return J},k0:function(){return A},lx:function(){return a},ml:function(){return N},nw:function(){return G},p8:function(){return B},qn:function(){return k},s9:function(){return Z},su:function(){return T},ty:function(){return K},wR:function(){return V},x:function(){return z},y2:function(){return E}});var r=t(78158),a=function(e){return r.Z.post("/pro/login",e)},j=function(e){return r.Z.post("/pro/gettoken",e)},p=function(e){return r.Z.post("/pro/resetpass",e)},C=function(e){return r.Z.post("/pro/uplodafile",e)},u=function(e){return r.Z.post("/pro/changeuserinfo",e)},B=function(){return r.Z.get("/pro/getuserinfo")},g=function(e){return r.Z.get("http://120.26.90.83:3000/captcha/sent",{params:e})},m=function(e){return r.Z.get("http://120.26.90.83:3000/captcha/verify",{params:e})},y=function(e){return r.Z.post("/pro/role/list",e)},W=function(e){return r.Z.post("/pro/role/add",e)},V=function(e){return r.Z.post("/pro/role/delete",e)},$=function(e){return r.Z.post("/pro/role/update",e)},f=function(e){return r.Z.post("/pro/user/list",e)},S=function(e){return r.Z.post("/pro/user/delete",e)},G=function(e){return r.Z.post("/pro/user/update",e)},T=function(e){return r.Z.post("/pro/user/create",e)},l=function(e){return r.Z.post("/pro/anno/type/update",e)},c=function(e){return r.Z.post("/pro/anno/type/add",e)},x=function(e){return r.Z.post("/pro/anno/type/delete",e)},M=function(e){return r.Z.post("/pro/anno/type/list",e)},z=function(e){return r.Z.post("/pro/cart/type/update",e)},R=function(e){return r.Z.post("/pro/cart/type/add",e)},Z=function(e){return r.Z.post("/pro/cart/type/delete",e)},o=function(e){return r.Z.post("/pro/cart/type/list",e)},k=function(e){return r.Z.post("/pro/advise/type/update",e)},w=function(e){return r.Z.post("/pro/advise/type/add",e)},N=function(e){return r.Z.post("/pro/advise/type/delete",e)},X=function(e){return r.Z.post("/pro/advise/type/list",e)},J=function(e){return r.Z.post("/pro/anno/list",e)},F=function(e){return r.Z.post("/pro/anno/add",e)},d=function(e){return r.Z.post("/pro/anno/delete",e)},E=function(e){return r.Z.post("/pro/anno/update",e)},A=function(e){return r.Z.post("/pro/advise/list",e)},i=function(e){return r.Z.post("/pro/advise/add",e)},K=function(e){return r.Z.post("/pro/advise/delete",e)},_=function(e){return r.Z.post("/pro/advise/update",e)},H=function(e){return request.post("/pro/advise/detail",e)}},45087:function(b,O,t){var r=t(5574),a=t.n(r),j=t(37476),p=t(638),C=t(67294),u=t(85893),B=function(m,y){var W=m.title,V=W===void 0?"\u6807\u9898":W,$=m.children,f=m.confirm;(0,C.useImperativeHandle)(y,function(){return{setOpen:M,form:T,setId:o,id:Z}});var S=p.Z.useForm(),G=a()(S,1),T=G[0],l=(0,C.useState)(!1),c=a()(l,2),x=c[0],M=c[1],z=(0,C.useState)(""),R=a()(z,2),Z=R[0],o=R[1];return(0,u.jsx)("div",{children:(0,u.jsx)(j.Y,{title:V,form:T,open:x,autoFocusFirstInput:!0,width:500,modalProps:{destroyOnClose:!0,onCancel:function(){return M(!1)}},onFinish:function(w){f(w),M(!1)},children:$})})};O.Z=(0,C.forwardRef)(B)},32877:function(b,O,t){var r=t(15009),a=t.n(r),j=t(99289),p=t.n(j),C=t(19911),u=t.n(C),B=t(72004),g=t.n(B),m=t(12444),y=t.n(m),W=t(9783),V=t.n(W),$=t(65371),f=t.n($),S=t(45966),G=t.n(S),T=t(62367),l=t(68949),c,x,M,z,R,Z,o,k,w,N,X,J,F=(c=g()(function d(){y()(this,d),u()(this,"info",x,this),u()(this,"roles",M,this),u()(this,"typeAnno",z,this),u()(this,"typeAdvise",R,this),u()(this,"typeCart",Z,this),u()(this,"updataInfo",o,this),u()(this,"updataTypeAnno",k,this),u()(this,"updataTypeAdvise",w,this),u()(this,"updataCartType",N,this),u()(this,"updataRoles",X,this),u()(this,"updataInfoSync",J,this),(0,l.rC)(this)}),x=f()(c.prototype,"info",[l.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=f()(c.prototype,"roles",[l.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=f()(c.prototype,"typeAnno",[l.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=f()(c.prototype,"typeAdvise",[l.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=f()(c.prototype,"typeCart",[l.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),o=f()(c.prototype,"updataInfo",[l.aD],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var E=this;return p()(a()().mark(function A(){var i;return a()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,T.p8)();case 2:i=_.sent,i.code==200&&(E.info=i.result);case 4:case"end":return _.stop()}},A)}))}}),k=f()(c.prototype,"updataTypeAnno",[l.aD],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var E=this;return p()(a()().mark(function A(){var i;return a()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,T.Ph)();case 2:i=_.sent,i.code==200&&(E.typeAnno=i.result);case 4:case"end":return _.stop()}},A)}))}}),w=f()(c.prototype,"updataTypeAdvise",[l.aD],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var E=this;return p()(a()().mark(function A(){var i;return a()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,T.Zz)();case 2:i=_.sent,i.code==200&&(E.typeAdvise=i.result);case 4:case"end":return _.stop()}},A)}))}}),N=f()(c.prototype,"updataCartType",[l.aD],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var E=this;return p()(a()().mark(function A(){var i;return a()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,T.PI)();case 2:i=_.sent,i.code==200&&(E.typeCart=i.result);case 4:case"end":return _.stop()}},A)}))}}),X=f()(c.prototype,"updataRoles",[l.aD],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var E=this;return p()(a()().mark(function A(){var i;return a()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,T.Vp)();case 2:i=_.sent,i.code==200&&(i.result.forEach(function(H){var n;((n=E.info)===null||n===void 0?void 0:n.role)>H.value?H.disabled=!1:H.disabled=!0}),E.roles=i.result);case 4:case"end":return _.stop()}},A)}))}}),J=f()(c.prototype,"updataInfoSync",[l.aD],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var E=this;return function(A){E.info=A}}}),c);O.Z=new F},53710:function(b,O,t){t.r(O);var r=t(97857),a=t.n(r),j=t(15009),p=t.n(j),C=t(99289),u=t.n(C),B=t(5574),g=t.n(B),m=t(67294),y=t(5966),W=t(56981),V=t(638),$=t(80417),f=t(24969),S=t(89705),G=t(1443),T=t(42075),l=t(71577),c=t(85418),x=t(45087),M=t(62367),z=t(15370),R=t(84851),Z=t(32877),o=t(85893),k=function(){var N=V.Z.useForm(),X=g()(N,1),J=X[0],F=(0,m.useRef)(),d=(0,m.useRef)(),E=(0,m.useState)(!0),A=g()(E,2),i=A[0],K=A[1],_=Z.Z.updataRoles,H=Z.Z.info,n=function(){var I=u()(p()().mark(function D(s){var h,v;return p()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,(0,M.H4)(s);case 2:h=P.sent,h.code==200&&((v=F.current)===null||v===void 0||v.reload(),_());case 4:case"end":return P.stop()}},D)}));return function(s){return I.apply(this,arguments)}}(),e=function(D){var s,h,v;(s=d.current)===null||s===void 0||s.setOpen(!0),(h=d.current)===null||h===void 0||h.form.setFieldsValue(D),(v=d.current)===null||v===void 0||v.setId(D._id),K(!1)},q=function(){var I=u()(p()().mark(function D(s){var h,v;return p()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,(0,M.NJ)(a()(a()({},s),{},{_id:d.current.id}));case 2:h=P.sent,h.code==200&&((v=F.current)===null||v===void 0||v.reload(),_());case 4:case"end":return P.stop()}},D)}));return function(s){return I.apply(this,arguments)}}(),ee=[{title:"\u5E8F\u53F7",dataIndex:"index",valueType:"indexBorder",width:48},{title:"\u89D2\u8272\u540D\u79F0",dataIndex:"label",copyable:!0,ellipsis:!0,search:!0,tip:"\u6807\u9898\u8FC7\u957F\u4F1A\u81EA\u52A8\u6536\u7F29",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]}},{disable:!0,title:"\u89D2\u8272\u7B49\u7EA7",dataIndex:"value",search:!1,sorter:!0},{disable:!0,title:"\u89D2\u8272\u5C5E\u6027",dataIndex:"color",search:!1,render:function(D,s,h,v){return(0,o.jsxs)(T.Z,{children:[(0,o.jsx)($.Z,{value:s==null?void 0:s.color,disabled:!0}),s==null?void 0:s.color]},s._id)}},{title:"\u64CD\u4F5C",valueType:"option",key:"option",render:function(D,s,h,v){return[(0,o.jsx)(l.ZP,{disabled:!(H.role>6),onClick:function(){(0,z.AU)("\u662F\u5426\u5220\u9664",u()(p()().mark(function P(){var L,Q;return p()().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.next=2,(0,M.wR)({_id:s._id});case 2:L=Y.sent,L.code==200&&((Q=F.current)===null||Q===void 0||Q.reload());case 4:case"end":return Y.stop()}},P)})))},children:"\u5220\u9664"},s._id),(0,o.jsx)(l.ZP,{disabled:!(H.role>6),onClick:function(){return e(s)},children:"\u4FEE\u6539"},s.value)]}}];return(0,o.jsxs)("div",{children:[(0,o.jsxs)(x.Z,{ref:d,title:i?"\u6DFB\u52A0\u89D2\u8272":"\u4FEE\u6539\u89D2\u8272",confirm:i?n:q,children:[(0,o.jsx)(y.Z,{name:"label",label:"\u89D2\u8272\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u586B\u5199"}]}),(0,o.jsx)(y.Z,{name:"value",label:"\u89D2\u8272\u7B49\u7EA7",rules:[{pattern:/\d/,message:"\u89D2\u8272\u7B49\u7EA7\u53EA\u80FD\u662F\u6570\u5B57"},{required:!0,message:"\u8BF7\u586B\u5199"}]}),(0,o.jsx)(W.Z,{name:"color",label:"\u89D2\u8272\u989C\u8272",rules:[{required:!0,message:"\u8BF7\u586B\u5199"}],initialValue:"red"})]}),(0,o.jsx)(G.Z,{columns:ee,actionRef:F,cardBordered:!0,request:u()(p()().mark(function I(){var D,s,h,v,U=arguments;return p()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return D=U.length>0&&U[0]!==void 0?U[0]:{},s=U.length>1?U[1]:void 0,h=U.length>2?U[2]:void 0,L.next=5,(0,M.Vp)(a()(a()({},D),{},{sort:s.value=="ascend"?1:-1}));case 5:if(v=L.sent,v.code!=200){L.next=8;break}return L.abrupt("return",{data:v.result});case 8:case"end":return L.stop()}},I)})),editable:{type:"multiple"},columnsState:{persistenceKey:"pro-table-singe-demos",persistenceType:"localStorage",onChange:function(D){}},rowKey:"_id",search:{labelWidth:"auto"},options:{setting:{listsHeight:400}},form:{},pagination:{pageSize:5},dateFormatter:"string",headerTitle:"\u9AD8\u7EA7\u8868\u683C",toolBarRender:function(){return[(0,o.jsx)(l.ZP,{icon:(0,o.jsx)(f.Z,{}),onClick:function(){d.current.setOpen(!0),K(!0)},type:"primary",children:"\u65B0\u5EFA"},"button"),(0,o.jsx)(c.Z,{menu:{items:[{label:"1st item",key:"1"},{label:"2nd item",key:"2"},{label:"3rd item",key:"3"}]},children:(0,o.jsx)(l.ZP,{children:(0,o.jsx)(S.Z,{})})},"menu")]}})]})};O.default=(0,R.f3)("UserInfo")((0,R.Pi)(k))},15370:function(b,O,t){t.d(O,{AU:function(){return B},Ob:function(){return p},PE:function(){return j}});var r=t(27790),a=t(36147),j=function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"\u6210\u529F";r.ZP.destroy(),r.ZP.success({content:m,duration:1.5})},p=function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"\u5931\u8D25";r.ZP.destroy(),r.ZP.error({content:m,duration:1.5})},C=function(){message.destroy(),message.loading({content:"\u52A0\u8F7D\u4E2D",duration:1.5})},u=function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"\u63D0\u793A";message.destroy(),message.info({content:m,duration:1.5})},B=function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"\u662F\u5426\u64CD\u4F5C",y=arguments.length>1?arguments[1]:void 0;a.Z.confirm({title:"\u53CB\u60C5\u63D0\u793A",content:m,okText:"\u786E\u8BA4",okType:"danger",cancelText:"\u53D6\u6D88",onOk:function(){y()}})}},78158:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{v:function(){return baseURL}});var axios__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6154),_message__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(15370),umi__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(82188),baseURL="http://admin.xilemi.me:3333";axios__WEBPACK_IMPORTED_MODULE_0__.Z.defaults.baseURL="http://admin.xilemi.me:3333",axios__WEBPACK_IMPORTED_MODULE_0__.Z.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",axios__WEBPACK_IMPORTED_MODULE_0__.Z.interceptors.request.use(function(config){var token=eval(localStorage.getItem("token")),reg=/(login|register|maizuo|captcha)/g;return reg.test(config.url)||(config.headers.token=token),config},function(b){return(0,_message__WEBPACK_IMPORTED_MODULE_2__.Ob)(b.msg)}),axios__WEBPACK_IMPORTED_MODULE_0__.Z.interceptors.response.use(function(b){var O=b.data,t=O.code,r=O.msg;return t==200?((0,_message__WEBPACK_IMPORTED_MODULE_2__.PE)(r),b.data):(t==3001?(umi__WEBPACK_IMPORTED_MODULE_1__.m8.replace("/login"),(0,_message__WEBPACK_IMPORTED_MODULE_2__.Ob)("\u8BF7\u767B\u5F55")):(0,_message__WEBPACK_IMPORTED_MODULE_2__.Ob)(r),b.data)},function(b){return(0,_message__WEBPACK_IMPORTED_MODULE_2__.Ob)(b.msg)}),__webpack_exports__.Z=axios__WEBPACK_IMPORTED_MODULE_0__.Z}}]);
